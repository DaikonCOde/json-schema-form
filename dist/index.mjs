var ha=Object.create;var vr=Object.defineProperty;var ga=Object.getOwnPropertyDescriptor;var ya=Object.getOwnPropertyNames;var ba=Object.getPrototypeOf,xa=Object.prototype.hasOwnProperty;var u=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Oa=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of ya(r))!xa.call(e,i)&&i!==t&&vr(e,i,{get:()=>r[i],enumerable:!(n=ga(r,i))||n.enumerable});return e};var q=(e,r,t)=>(t=e!=null?ha(ba(e)):{},Oa(r||!e||!e.__esModule?vr(t,"default",{value:e,enumerable:!0}):t,e));var Z=u((Zh,Tr)=>{"use strict";Tr.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}});var De=u(w=>{"use strict";var h=Z(),$e=()=>[{type:h.RANGE,from:48,to:57}],Cr=()=>[{type:h.CHAR,value:95},{type:h.RANGE,from:97,to:122},{type:h.RANGE,from:65,to:90}].concat($e()),Ar=()=>[{type:h.CHAR,value:9},{type:h.CHAR,value:10},{type:h.CHAR,value:11},{type:h.CHAR,value:12},{type:h.CHAR,value:13},{type:h.CHAR,value:32},{type:h.CHAR,value:160},{type:h.CHAR,value:5760},{type:h.RANGE,from:8192,to:8202},{type:h.CHAR,value:8232},{type:h.CHAR,value:8233},{type:h.CHAR,value:8239},{type:h.CHAR,value:8287},{type:h.CHAR,value:12288},{type:h.CHAR,value:65279}],Sa=()=>[{type:h.CHAR,value:10},{type:h.CHAR,value:13},{type:h.CHAR,value:8232},{type:h.CHAR,value:8233}];w.words=()=>({type:h.SET,set:Cr(),not:!1});w.notWords=()=>({type:h.SET,set:Cr(),not:!0});w.ints=()=>({type:h.SET,set:$e(),not:!1});w.notInts=()=>({type:h.SET,set:$e(),not:!0});w.whitespace=()=>({type:h.SET,set:Ar(),not:!1});w.notWhitespace=()=>({type:h.SET,set:Ar(),not:!0});w.anyChar=()=>({type:h.SET,set:Sa(),not:!0})});var jr=u(ee=>{"use strict";var Ir=Z(),N=De(),Ea="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",va={0:0,t:9,n:10,v:11,f:12,r:13};ee.strToChars=function(e){var r=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return e=e.replace(r,function(t,n,i,o,s,a,f,l){if(i)return t;var c=n?8:o?parseInt(o,16):s?parseInt(s,16):a?parseInt(a,8):f?Ea.indexOf(f):va[l],p=String.fromCharCode(c);return/[[\]{}^$.|?*+()]/.test(p)&&(p="\\"+p),p}),e};ee.tokenizeClass=(e,r)=>{for(var t=[],n=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,i,o;(i=n.exec(e))!=null;)if(i[1])t.push(N.words());else if(i[2])t.push(N.ints());else if(i[3])t.push(N.whitespace());else if(i[4])t.push(N.notWords());else if(i[5])t.push(N.notInts());else if(i[6])t.push(N.notWhitespace());else if(i[7])t.push({type:Ir.RANGE,from:(i[8]||i[9]).charCodeAt(0),to:i[10].charCodeAt(0)});else if(o=i[12])t.push({type:Ir.CHAR,value:o.charCodeAt(0)});else return[t,n.lastIndex];ee.error(r,"Unterminated character class")};ee.error=(e,r)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+r)}});var qr=u(re=>{"use strict";var Se=Z();re.wordBoundary=()=>({type:Se.POSITION,value:"b"});re.nonWordBoundary=()=>({type:Se.POSITION,value:"B"});re.begin=()=>({type:Se.POSITION,value:"^"});re.end=()=>({type:Se.POSITION,value:"$"})});var wr=u((ng,Be)=>{"use strict";var M=jr(),T=Z(),R=De(),Ee=qr();Be.exports=e=>{var r=0,t,n,i={type:T.ROOT,stack:[]},o=i,s=i.stack,a=[],f=A=>{M.error(e,`Nothing to repeat at column ${A-1}`)},l=M.strToChars(e);for(t=l.length;r<t;)switch(n=l[r++],n){case"\\":switch(n=l[r++],n){case"b":s.push(Ee.wordBoundary());break;case"B":s.push(Ee.nonWordBoundary());break;case"w":s.push(R.words());break;case"W":s.push(R.notWords());break;case"d":s.push(R.ints());break;case"D":s.push(R.notInts());break;case"s":s.push(R.whitespace());break;case"S":s.push(R.notWhitespace());break;default:/\d/.test(n)?s.push({type:T.REFERENCE,value:parseInt(n,10)}):s.push({type:T.CHAR,value:n.charCodeAt(0)})}break;case"^":s.push(Ee.begin());break;case"$":s.push(Ee.end());break;case"[":var c;l[r]==="^"?(c=!0,r++):c=!1;var p=M.tokenizeClass(l.slice(r),e);r+=p[1],s.push({type:T.SET,set:p[0],not:c});break;case".":s.push(R.anyChar());break;case"(":var d={type:T.GROUP,stack:[],remember:!0};n=l[r],n==="?"&&(n=l[r+1],r+=2,n==="="?d.followedBy=!0:n==="!"?d.notFollowedBy=!0:n!==":"&&M.error(e,`Invalid group, character '${n}' after '?' at column ${r-1}`),d.remember=!1),s.push(d),a.push(o),o=d,s=d.stack;break;case")":a.length===0&&M.error(e,`Unmatched ) at column ${r-1}`),o=a.pop(),s=o.options?o.options[o.options.length-1]:o.stack;break;case"|":o.options||(o.options=[o.stack],delete o.stack);var g=[];o.options.push(g),s=g;break;case"{":var m=/^(\d+)(,(\d+)?)?\}/.exec(l.slice(r)),E,v;m!==null?(s.length===0&&f(r),E=parseInt(m[1],10),v=m[2]?m[3]?parseInt(m[3],10):1/0:E,r+=m[0].length,s.push({type:T.REPETITION,min:E,max:v,value:s.pop()})):s.push({type:T.CHAR,value:123});break;case"?":s.length===0&&f(r),s.push({type:T.REPETITION,min:0,max:1,value:s.pop()});break;case"+":s.length===0&&f(r),s.push({type:T.REPETITION,min:1,max:1/0,value:s.pop()});break;case"*":s.length===0&&f(r),s.push({type:T.REPETITION,min:0,max:1/0,value:s.pop()});break;default:s.push({type:T.CHAR,value:n.charCodeAt(0)})}return a.length!==0&&M.error(e,"Unterminated group"),i};Be.exports.types=T});var Rr=u((ig,_r)=>{"use strict";var $=class e{constructor(r,t){this.low=r,this.high=t,this.length=1+t-r}overlaps(r){return!(this.high<r.low||this.low>r.high)}touches(r){return!(this.high+1<r.low||this.low-1>r.high)}add(r){return new e(Math.min(this.low,r.low),Math.max(this.high,r.high))}subtract(r){return r.low<=this.low&&r.high>=this.high?[]:r.low>this.low&&r.high<this.high?[new e(this.low,r.low-1),new e(r.high+1,this.high)]:r.low<=this.low?[new e(r.high+1,this.high)]:[new e(this.low,r.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}},Ue=class e{constructor(r,t){this.ranges=[],this.length=0,r!=null&&this.add(r,t)}_update_length(){this.length=this.ranges.reduce((r,t)=>r+t.length,0)}add(r,t){var n=i=>{for(var o=0;o<this.ranges.length&&!i.touches(this.ranges[o]);)o++;for(var s=this.ranges.slice(0,o);o<this.ranges.length&&i.touches(this.ranges[o]);)i=i.add(this.ranges[o]),o++;s.push(i),this.ranges=s.concat(this.ranges.slice(o)),this._update_length()};return r instanceof e?r.ranges.forEach(n):(t==null&&(t=r),n(new $(r,t))),this}subtract(r,t){var n=i=>{for(var o=0;o<this.ranges.length&&!i.overlaps(this.ranges[o]);)o++;for(var s=this.ranges.slice(0,o);o<this.ranges.length&&i.overlaps(this.ranges[o]);)s=s.concat(this.ranges[o].subtract(i)),o++;this.ranges=s.concat(this.ranges.slice(o)),this._update_length()};return r instanceof e?r.ranges.forEach(n):(t==null&&(t=r),n(new $(r,t))),this}intersect(r,t){var n=[],i=o=>{for(var s=0;s<this.ranges.length&&!o.overlaps(this.ranges[s]);)s++;for(;s<this.ranges.length&&o.overlaps(this.ranges[s]);){var a=Math.max(this.ranges[s].low,o.low),f=Math.min(this.ranges[s].high,o.high);n.push(new $(a,f)),s++}};return r instanceof e?r.ranges.forEach(i):(t==null&&(t=r),i(new $(r,t))),this.ranges=n,this._update_length(),this}index(r){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=r;)r-=this.ranges[t].length,t++;return this.ranges[t].low+r}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new e(this)}numbers(){return this.ranges.reduce((r,t)=>{for(var n=t.low;n<=t.high;)r.push(n),n++;return r},[])}subranges(){return this.ranges.map(r=>({low:r.low,high:r.high,length:1+r.high-r.low}))}};_r.exports=Ue});var Jr=u((og,Vr)=>{"use strict";var ve=wr(),te=Rr(),V=ve.types;Vr.exports=class ne{constructor(r,t){if(this._setDefaults(r),r instanceof RegExp)this.ignoreCase=r.ignoreCase,this.multiline=r.multiline,r=r.source;else if(typeof r=="string")this.ignoreCase=t&&t.indexOf("i")!==-1,this.multiline=t&&t.indexOf("m")!==-1;else throw new Error("Expected a regexp or string");this.tokens=ve(r)}_setDefaults(r){this.max=r.max!=null?r.max:ne.prototype.max!=null?ne.prototype.max:100,this.defaultRange=r.defaultRange?r.defaultRange:this.defaultRange.clone(),r.randInt&&(this.randInt=r.randInt)}gen(){return this._gen(this.tokens,[])}_gen(r,t){var n,i,o,s,a;switch(r.type){case V.ROOT:case V.GROUP:if(r.followedBy||r.notFollowedBy)return"";for(r.remember&&r.groupNumber===void 0&&(r.groupNumber=t.push(null)-1),n=r.options?this._randSelect(r.options):r.stack,i="",s=0,a=n.length;s<a;s++)i+=this._gen(n[s],t);return r.remember&&(t[r.groupNumber]=i),i;case V.POSITION:return"";case V.SET:var f=this._expand(r);return f.length?String.fromCharCode(this._randSelect(f)):"";case V.REPETITION:for(o=this.randInt(r.min,r.max===1/0?r.min+this.max:r.max),i="",s=0;s<o;s++)i+=this._gen(r.value,t);return i;case V.REFERENCE:return t[r.value-1]||"";case V.CHAR:var l=this.ignoreCase&&this._randBool()?this._toOtherCase(r.value):r.value;return String.fromCharCode(l)}}_toOtherCase(r){return r+(97<=r&&r<=122?-32:65<=r&&r<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(r){return r instanceof te?r.index(this.randInt(0,r.length-1)):r[this.randInt(0,r.length-1)]}_expand(r){if(r.type===ve.types.CHAR)return new te(r.value);if(r.type===ve.types.RANGE)return new te(r.from,r.to);{let t=new te;for(let n=0;n<r.set.length;n++){let i=this._expand(r.set[n]);if(t.add(i),this.ignoreCase)for(let o=0;o<i.length;o++){let s=i.index(o),a=this._toOtherCase(s);s!==a&&t.add(a)}}return r.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(r,t){return r+Math.floor(Math.random()*(1+t-r))}get defaultRange(){return this._range=this._range||new te(32,126)}set defaultRange(r){this._range=r}static randexp(r,t){var n;return typeof r=="string"&&(r=new RegExp(r,t)),r._randexp===void 0?(n=new ne(r,t),r._randexp=n):(n=r._randexp,n._setDefaults(r)),n.gen()}static sugar(){RegExp.prototype.gen=function(){return ne.randexp(this)}}}});var kr=u((cg,Gr)=>{"use strict";var ja=function(r){return qa(r)&&!wa(r)};function qa(e){return!!e&&typeof e=="object"}function wa(e){var r=Object.prototype.toString.call(e);return r==="[object RegExp]"||r==="[object Date]"||Va(e)}var _a=typeof Symbol=="function"&&Symbol.for,Ra=_a?Symbol.for("react.element"):60103;function Va(e){return e.$$typeof===Ra}function Ja(e){return Array.isArray(e)?[]:{}}function oe(e,r){return r.clone!==!1&&r.isMergeableObject(e)?D(Ja(e),e,r):e}function La(e,r,t){return e.concat(r).map(function(n){return oe(n,t)})}function Fa(e,r){if(!r.customMerge)return D;var t=r.customMerge(e);return typeof t=="function"?t:D}function Pa(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(r){return Object.propertyIsEnumerable.call(e,r)}):[]}function Hr(e){return Object.keys(e).concat(Pa(e))}function zr(e,r){try{return r in e}catch{return!1}}function Na(e,r){return zr(e,r)&&!(Object.hasOwnProperty.call(e,r)&&Object.propertyIsEnumerable.call(e,r))}function Ma(e,r,t){var n={};return t.isMergeableObject(e)&&Hr(e).forEach(function(i){n[i]=oe(e[i],t)}),Hr(r).forEach(function(i){Na(e,i)||(zr(e,i)&&t.isMergeableObject(r[i])?n[i]=Fa(i,t)(e[i],r[i],t):n[i]=oe(r[i],t))}),n}function D(e,r,t){t=t||{},t.arrayMerge=t.arrayMerge||La,t.isMergeableObject=t.isMergeableObject||ja,t.cloneUnlessOtherwiseSpecified=oe;var n=Array.isArray(r),i=Array.isArray(e),o=n===i;return o?n?t.arrayMerge(e,r,t):Ma(e,r,t):oe(r,t)}D.all=function(r,t){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce(function(n,i){return D(n,i,t)},{})};var $a=D;Gr.exports=$a});var Ke=u((gy,Ot)=>{"use strict";var gu=typeof global=="object"&&global&&global.Object===Object&&global;Ot.exports=gu});var L=u((yy,St)=>{"use strict";var yu=Ke(),bu=typeof self=="object"&&self&&self.Object===Object&&self,xu=yu||bu||Function("return this")();St.exports=xu});var fe=u((by,Et)=>{"use strict";var Ou=L(),Su=Ou.Symbol;Et.exports=Su});var At=u((xy,Ct)=>{"use strict";var vt=fe(),Tt=Object.prototype,Eu=Tt.hasOwnProperty,vu=Tt.toString,le=vt?vt.toStringTag:void 0;function Tu(e){var r=Eu.call(e,le),t=e[le];try{e[le]=void 0;var n=!0}catch{}var i=vu.call(e);return n&&(r?e[le]=t:delete e[le]),i}Ct.exports=Tu});var jt=u((Oy,It)=>{"use strict";var Cu=Object.prototype,Au=Cu.toString;function Iu(e){return Au.call(e)}It.exports=Iu});var U=u((Sy,_t)=>{"use strict";var qt=fe(),ju=At(),qu=jt(),wu="[object Null]",_u="[object Undefined]",wt=qt?qt.toStringTag:void 0;function Ru(e){return e==null?e===void 0?_u:wu:wt&&wt in Object(e)?ju(e):qu(e)}_t.exports=Ru});var j=u((Ey,Rt)=>{"use strict";function Vu(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}Rt.exports=Vu});var Ie=u((vy,Vt)=>{"use strict";var Ju=U(),Lu=j(),Fu="[object AsyncFunction]",Pu="[object Function]",Nu="[object GeneratorFunction]",Mu="[object Proxy]";function $u(e){if(!Lu(e))return!1;var r=Ju(e);return r==Pu||r==Nu||r==Fu||r==Mu}Vt.exports=$u});var Lt=u((Ty,Jt)=>{"use strict";var Du=L(),Bu=Du["__core-js_shared__"];Jt.exports=Bu});var Nt=u((Cy,Pt)=>{"use strict";var Ye=Lt(),Ft=function(){var e=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Uu(e){return!!Ft&&Ft in e}Pt.exports=Uu});var $t=u((Ay,Mt)=>{"use strict";var Hu=Function.prototype,zu=Hu.toString;function Gu(e){if(e!=null){try{return zu.call(e)}catch{}try{return e+""}catch{}}return""}Mt.exports=Gu});var Bt=u((Iy,Dt)=>{"use strict";var ku=Ie(),Wu=Nt(),Ku=j(),Yu=$t(),Xu=/[\\^$.*+?()[\]{}|]/g,Qu=/^\[object .+?Constructor\]$/,Zu=Function.prototype,ef=Object.prototype,rf=Zu.toString,tf=ef.hasOwnProperty,nf=RegExp("^"+rf.call(tf).replace(Xu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function of(e){if(!Ku(e)||Wu(e))return!1;var r=ku(e)?nf:Qu;return r.test(Yu(e))}Dt.exports=of});var Ht=u((jy,Ut)=>{"use strict";function sf(e,r){return e?.[r]}Ut.exports=sf});var je=u((qy,zt)=>{"use strict";var af=Bt(),uf=Ht();function ff(e,r){var t=uf(e,r);return af(t)?t:void 0}zt.exports=ff});var ce=u((wy,Gt)=>{"use strict";var lf=je(),cf=lf(Object,"create");Gt.exports=cf});var Kt=u((_y,Wt)=>{"use strict";var kt=ce();function pf(){this.__data__=kt?kt(null):{},this.size=0}Wt.exports=pf});var Xt=u((Ry,Yt)=>{"use strict";function df(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}Yt.exports=df});var Zt=u((Vy,Qt)=>{"use strict";var mf=ce(),hf="__lodash_hash_undefined__",gf=Object.prototype,yf=gf.hasOwnProperty;function bf(e){var r=this.__data__;if(mf){var t=r[e];return t===hf?void 0:t}return yf.call(r,e)?r[e]:void 0}Qt.exports=bf});var rn=u((Jy,en)=>{"use strict";var xf=ce(),Of=Object.prototype,Sf=Of.hasOwnProperty;function Ef(e){var r=this.__data__;return xf?r[e]!==void 0:Sf.call(r,e)}en.exports=Ef});var nn=u((Ly,tn)=>{"use strict";var vf=ce(),Tf="__lodash_hash_undefined__";function Cf(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=vf&&r===void 0?Tf:r,this}tn.exports=Cf});var sn=u((Fy,on)=>{"use strict";var Af=Kt(),If=Xt(),jf=Zt(),qf=rn(),wf=nn();function H(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}H.prototype.clear=Af;H.prototype.delete=If;H.prototype.get=jf;H.prototype.has=qf;H.prototype.set=wf;on.exports=H});var un=u((Py,an)=>{"use strict";function _f(){this.__data__=[],this.size=0}an.exports=_f});var pe=u((Ny,fn)=>{"use strict";function Rf(e,r){return e===r||e!==e&&r!==r}fn.exports=Rf});var de=u((My,ln)=>{"use strict";var Vf=pe();function Jf(e,r){for(var t=e.length;t--;)if(Vf(e[t][0],r))return t;return-1}ln.exports=Jf});var pn=u(($y,cn)=>{"use strict";var Lf=de(),Ff=Array.prototype,Pf=Ff.splice;function Nf(e){var r=this.__data__,t=Lf(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():Pf.call(r,t,1),--this.size,!0}cn.exports=Nf});var mn=u((Dy,dn)=>{"use strict";var Mf=de();function $f(e){var r=this.__data__,t=Mf(r,e);return t<0?void 0:r[t][1]}dn.exports=$f});var gn=u((By,hn)=>{"use strict";var Df=de();function Bf(e){return Df(this.__data__,e)>-1}hn.exports=Bf});var bn=u((Uy,yn)=>{"use strict";var Uf=de();function Hf(e,r){var t=this.__data__,n=Uf(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}yn.exports=Hf});var me=u((Hy,xn)=>{"use strict";var zf=un(),Gf=pn(),kf=mn(),Wf=gn(),Kf=bn();function z(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}z.prototype.clear=zf;z.prototype.delete=Gf;z.prototype.get=kf;z.prototype.has=Wf;z.prototype.set=Kf;xn.exports=z});var Xe=u((zy,On)=>{"use strict";var Yf=je(),Xf=L(),Qf=Yf(Xf,"Map");On.exports=Qf});var vn=u((Gy,En)=>{"use strict";var Sn=sn(),Zf=me(),el=Xe();function rl(){this.size=0,this.__data__={hash:new Sn,map:new(el||Zf),string:new Sn}}En.exports=rl});var Cn=u((ky,Tn)=>{"use strict";function tl(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}Tn.exports=tl});var he=u((Wy,An)=>{"use strict";var nl=Cn();function il(e,r){var t=e.__data__;return nl(r)?t[typeof r=="string"?"string":"hash"]:t.map}An.exports=il});var jn=u((Ky,In)=>{"use strict";var ol=he();function sl(e){var r=ol(this,e).delete(e);return this.size-=r?1:0,r}In.exports=sl});var wn=u((Yy,qn)=>{"use strict";var al=he();function ul(e){return al(this,e).get(e)}qn.exports=ul});var Rn=u((Xy,_n)=>{"use strict";var fl=he();function ll(e){return fl(this,e).has(e)}_n.exports=ll});var Jn=u((Qy,Vn)=>{"use strict";var cl=he();function pl(e,r){var t=cl(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}Vn.exports=pl});var qe=u((Zy,Ln)=>{"use strict";var dl=vn(),ml=jn(),hl=wn(),gl=Rn(),yl=Jn();function G(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}G.prototype.clear=dl;G.prototype.delete=ml;G.prototype.get=hl;G.prototype.has=gl;G.prototype.set=yl;Ln.exports=G});var Pn=u((eb,Fn)=>{"use strict";var bl="__lodash_hash_undefined__";function xl(e){return this.__data__.set(e,bl),this}Fn.exports=xl});var Mn=u((rb,Nn)=>{"use strict";function Ol(e){return this.__data__.has(e)}Nn.exports=Ol});var Qe=u((tb,$n)=>{"use strict";var Sl=qe(),El=Pn(),vl=Mn();function we(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Sl;++r<t;)this.add(e[r])}we.prototype.add=we.prototype.push=El;we.prototype.has=vl;$n.exports=we});var Bn=u((nb,Dn)=>{"use strict";function Tl(e,r,t,n){for(var i=e.length,o=t+(n?1:-1);n?o--:++o<i;)if(r(e[o],o,e))return o;return-1}Dn.exports=Tl});var Hn=u((ib,Un)=>{"use strict";function Cl(e){return e!==e}Un.exports=Cl});var Gn=u((ob,zn)=>{"use strict";function Al(e,r,t){for(var n=t-1,i=e.length;++n<i;)if(e[n]===r)return n;return-1}zn.exports=Al});var Wn=u((sb,kn)=>{"use strict";var Il=Bn(),jl=Hn(),ql=Gn();function wl(e,r,t){return r===r?ql(e,r,t):Il(e,jl,t)}kn.exports=wl});var Ze=u((ab,Kn)=>{"use strict";var _l=Wn();function Rl(e,r){var t=e==null?0:e.length;return!!t&&_l(e,r,0)>-1}Kn.exports=Rl});var er=u((ub,Yn)=>{"use strict";function Vl(e,r,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(r,e[n]))return!0;return!1}Yn.exports=Vl});var ge=u((fb,Xn)=>{"use strict";function Jl(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}Xn.exports=Jl});var _e=u((lb,Qn)=>{"use strict";function Ll(e){return function(r){return e(r)}}Qn.exports=Ll});var rr=u((cb,Zn)=>{"use strict";function Fl(e,r){return e.has(r)}Zn.exports=Fl});var ri=u((pb,ei)=>{"use strict";var Pl=Qe(),Nl=Ze(),Ml=er(),$l=ge(),Dl=_e(),Bl=rr(),Ul=200;function Hl(e,r,t,n){var i=-1,o=Nl,s=!0,a=e.length,f=[],l=r.length;if(!a)return f;t&&(r=$l(r,Dl(t))),n?(o=Ml,s=!1):r.length>=Ul&&(o=Bl,s=!1,r=new Pl(r));e:for(;++i<a;){var c=e[i],p=t==null?c:t(c);if(c=n||c!==0?c:0,s&&p===p){for(var d=l;d--;)if(r[d]===p)continue e;f.push(c)}else o(r,p,n)||f.push(c)}return f}ei.exports=Hl});var ni=u((db,ti)=>{"use strict";function zl(e,r){for(var t=-1,n=r.length,i=e.length;++t<n;)e[i+t]=r[t];return e}ti.exports=zl});var F=u((mb,ii)=>{"use strict";function Gl(e){return e!=null&&typeof e=="object"}ii.exports=Gl});var si=u((hb,oi)=>{"use strict";var kl=U(),Wl=F(),Kl="[object Arguments]";function Yl(e){return Wl(e)&&kl(e)==Kl}oi.exports=Yl});var Re=u((gb,fi)=>{"use strict";var ai=si(),Xl=F(),ui=Object.prototype,Ql=ui.hasOwnProperty,Zl=ui.propertyIsEnumerable,ec=ai(function(){return arguments}())?ai:function(e){return Xl(e)&&Ql.call(e,"callee")&&!Zl.call(e,"callee")};fi.exports=ec});var P=u((yb,li)=>{"use strict";var rc=Array.isArray;li.exports=rc});var mi=u((bb,di)=>{"use strict";var ci=fe(),tc=Re(),nc=P(),pi=ci?ci.isConcatSpreadable:void 0;function ic(e){return nc(e)||tc(e)||!!(pi&&e&&e[pi])}di.exports=ic});var yi=u((xb,gi)=>{"use strict";var oc=ni(),sc=mi();function hi(e,r,t,n,i){var o=-1,s=e.length;for(t||(t=sc),i||(i=[]);++o<s;){var a=e[o];r>0&&t(a)?r>1?hi(a,r-1,t,n,i):oc(i,a):n||(i[i.length]=a)}return i}gi.exports=hi});var tr=u((Ob,bi)=>{"use strict";function ac(e){return e}bi.exports=ac});var Oi=u((Sb,xi)=>{"use strict";function uc(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}xi.exports=uc});var vi=u((Eb,Ei)=>{"use strict";var fc=Oi(),Si=Math.max;function lc(e,r,t){return r=Si(r===void 0?e.length-1:r,0),function(){for(var n=arguments,i=-1,o=Si(n.length-r,0),s=Array(o);++i<o;)s[i]=n[r+i];i=-1;for(var a=Array(r+1);++i<r;)a[i]=n[i];return a[r]=t(s),fc(e,this,a)}}Ei.exports=lc});var Ci=u((vb,Ti)=>{"use strict";function cc(e){return function(){return e}}Ti.exports=cc});var nr=u((Tb,Ai)=>{"use strict";var pc=je(),dc=function(){try{var e=pc(Object,"defineProperty");return e({},"",{}),e}catch{}}();Ai.exports=dc});var qi=u((Cb,ji)=>{"use strict";var mc=Ci(),Ii=nr(),hc=tr(),gc=Ii?function(e,r){return Ii(e,"toString",{configurable:!0,enumerable:!1,value:mc(r),writable:!0})}:hc;ji.exports=gc});var _i=u((Ab,wi)=>{"use strict";var yc=800,bc=16,xc=Date.now;function Oc(e){var r=0,t=0;return function(){var n=xc(),i=bc-(n-t);if(t=n,i>0){if(++r>=yc)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}wi.exports=Oc});var Vi=u((Ib,Ri)=>{"use strict";var Sc=qi(),Ec=_i(),vc=Ec(Sc);Ri.exports=vc});var Ve=u((jb,Ji)=>{"use strict";var Tc=tr(),Cc=vi(),Ac=Vi();function Ic(e,r){return Ac(Cc(e,r,Tc),e+"")}Ji.exports=Ic});var ir=u((qb,Li)=>{"use strict";var jc=9007199254740991;function qc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jc}Li.exports=qc});var Je=u((wb,Fi)=>{"use strict";var wc=Ie(),_c=ir();function Rc(e){return e!=null&&_c(e.length)&&!wc(e)}Fi.exports=Rc});var Le=u((_b,Pi)=>{"use strict";var Vc=Je(),Jc=F();function Lc(e){return Jc(e)&&Vc(e)}Pi.exports=Lc});var $i=u((Rb,Mi)=>{"use strict";var Fc=ri(),Pc=yi(),Nc=Ve(),Ni=Le(),Mc=Nc(function(e,r){return Ni(e)?Fc(e,Pc(r,1,Ni,!0)):[]});Mi.exports=Mc});var Fe=u((Vb,Di)=>{"use strict";var $c=U(),Dc=F(),Bc="[object Symbol]";function Uc(e){return typeof e=="symbol"||Dc(e)&&$c(e)==Bc}Di.exports=Uc});var Ui=u((Jb,Bi)=>{"use strict";var Hc=P(),zc=Fe(),Gc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kc=/^\w*$/;function Wc(e,r){if(Hc(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||zc(e)?!0:kc.test(e)||!Gc.test(e)||r!=null&&e in Object(r)}Bi.exports=Wc});var Gi=u((Lb,zi)=>{"use strict";var Hi=qe(),Kc="Expected a function";function or(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Kc);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return t.cache=o.set(i,s)||o,s};return t.cache=new(or.Cache||Hi),t}or.Cache=Hi;zi.exports=or});var Wi=u((Fb,ki)=>{"use strict";var Yc=Gi(),Xc=500;function Qc(e){var r=Yc(e,function(n){return t.size===Xc&&t.clear(),n}),t=r.cache;return r}ki.exports=Qc});var Yi=u((Pb,Ki)=>{"use strict";var Zc=Wi(),ep=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rp=/\\(\\)?/g,tp=Zc(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(ep,function(t,n,i,o){r.push(i?o.replace(rp,"$1"):n||t)}),r});Ki.exports=tp});var to=u((Nb,ro)=>{"use strict";var Xi=fe(),np=ge(),ip=P(),op=Fe(),sp=1/0,Qi=Xi?Xi.prototype:void 0,Zi=Qi?Qi.toString:void 0;function eo(e){if(typeof e=="string")return e;if(ip(e))return np(e,eo)+"";if(op(e))return Zi?Zi.call(e):"";var r=e+"";return r=="0"&&1/e==-sp?"-0":r}ro.exports=eo});var io=u((Mb,no)=>{"use strict";var ap=to();function up(e){return e==null?"":ap(e)}no.exports=up});var sr=u(($b,oo)=>{"use strict";var fp=P(),lp=Ui(),cp=Yi(),pp=io();function dp(e,r){return fp(e)?e:lp(e,r)?[e]:cp(pp(e))}oo.exports=dp});var ar=u((Db,so)=>{"use strict";var mp=Fe(),hp=1/0;function gp(e){if(typeof e=="string"||mp(e))return e;var r=e+"";return r=="0"&&1/e==-hp?"-0":r}so.exports=gp});var uo=u((Bb,ao)=>{"use strict";var yp=sr(),bp=ar();function xp(e,r){r=yp(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[bp(r[t++])];return t&&t==n?e:void 0}ao.exports=xp});var lo=u((Ub,fo)=>{"use strict";var Op=uo();function Sp(e,r,t){var n=e==null?void 0:Op(e,r);return n===void 0?t:n}fo.exports=Sp});var mo=u((Hb,po)=>{"use strict";var Ep=Qe(),vp=Ze(),Tp=er(),Cp=ge(),Ap=_e(),co=rr(),Ip=Math.min;function jp(e,r,t){for(var n=t?Tp:vp,i=e[0].length,o=e.length,s=o,a=Array(o),f=1/0,l=[];s--;){var c=e[s];s&&r&&(c=Cp(c,Ap(r))),f=Ip(c.length,f),a[s]=!t&&(r||i>=120&&c.length>=120)?new Ep(s&&c):void 0}c=e[0];var p=-1,d=a[0];e:for(;++p<i&&l.length<f;){var g=c[p],m=r?r(g):g;if(g=t||g!==0?g:0,!(d?co(d,m):n(l,m,t))){for(s=o;--s;){var E=a[s];if(!(E?co(E,m):n(e[s],m,t)))continue e}d&&d.push(m),l.push(g)}}return l}po.exports=jp});var go=u((zb,ho)=>{"use strict";var qp=Le();function wp(e){return qp(e)?e:[]}ho.exports=wp});var bo=u((Gb,yo)=>{"use strict";var _p=ge(),Rp=mo(),Vp=Ve(),Jp=go(),Lp=Vp(function(e){var r=_p(e,Jp);return r.length&&r[0]===e[0]?Rp(r):[]});yo.exports=Lp});var Oo=u((kb,xo)=>{"use strict";var Fp=me();function Pp(){this.__data__=new Fp,this.size=0}xo.exports=Pp});var Eo=u((Wb,So)=>{"use strict";function Np(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}So.exports=Np});var To=u((Kb,vo)=>{"use strict";function Mp(e){return this.__data__.get(e)}vo.exports=Mp});var Ao=u((Yb,Co)=>{"use strict";function $p(e){return this.__data__.has(e)}Co.exports=$p});var jo=u((Xb,Io)=>{"use strict";var Dp=me(),Bp=Xe(),Up=qe(),Hp=200;function zp(e,r){var t=this.__data__;if(t instanceof Dp){var n=t.__data__;if(!Bp||n.length<Hp-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Up(n)}return t.set(e,r),this.size=t.size,this}Io.exports=zp});var wo=u((Qb,qo)=>{"use strict";var Gp=me(),kp=Oo(),Wp=Eo(),Kp=To(),Yp=Ao(),Xp=jo();function k(e){var r=this.__data__=new Gp(e);this.size=r.size}k.prototype.clear=kp;k.prototype.delete=Wp;k.prototype.get=Kp;k.prototype.has=Yp;k.prototype.set=Xp;qo.exports=k});var Pe=u((Zb,Ro)=>{"use strict";var _o=nr();function Qp(e,r,t){r=="__proto__"&&_o?_o(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}Ro.exports=Qp});var ur=u((ex,Vo)=>{"use strict";var Zp=Pe(),ed=pe();function rd(e,r,t){(t!==void 0&&!ed(e[r],t)||t===void 0&&!(r in e))&&Zp(e,r,t)}Vo.exports=rd});var Lo=u((rx,Jo)=>{"use strict";function td(e){return function(r,t,n){for(var i=-1,o=Object(r),s=n(r),a=s.length;a--;){var f=s[e?a:++i];if(t(o[f],f,o)===!1)break}return r}}Jo.exports=td});var Po=u((tx,Fo)=>{"use strict";var nd=Lo(),id=nd();Fo.exports=id});var Bo=u((ye,W)=>{"use strict";var od=L(),Do=typeof ye=="object"&&ye&&!ye.nodeType&&ye,No=Do&&typeof W=="object"&&W&&!W.nodeType&&W,sd=No&&No.exports===Do,Mo=sd?od.Buffer:void 0,$o=Mo?Mo.allocUnsafe:void 0;function ad(e,r){if(r)return e.slice();var t=e.length,n=$o?$o(t):new e.constructor(t);return e.copy(n),n}W.exports=ad});var Ho=u((nx,Uo)=>{"use strict";var ud=L(),fd=ud.Uint8Array;Uo.exports=fd});var ko=u((ix,Go)=>{"use strict";var zo=Ho();function ld(e){var r=new e.constructor(e.byteLength);return new zo(r).set(new zo(e)),r}Go.exports=ld});var Ko=u((ox,Wo)=>{"use strict";var cd=ko();function pd(e,r){var t=r?cd(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}Wo.exports=pd});var Xo=u((sx,Yo)=>{"use strict";function dd(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}Yo.exports=dd});var es=u((ax,Zo)=>{"use strict";var md=j(),Qo=Object.create,hd=function(){function e(){}return function(r){if(!md(r))return{};if(Qo)return Qo(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();Zo.exports=hd});var ts=u((ux,rs)=>{"use strict";function gd(e,r){return function(t){return e(r(t))}}rs.exports=gd});var fr=u((fx,ns)=>{"use strict";var yd=ts(),bd=yd(Object.getPrototypeOf,Object);ns.exports=bd});var lr=u((lx,is)=>{"use strict";var xd=Object.prototype;function Od(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||xd;return e===t}is.exports=Od});var ss=u((cx,os)=>{"use strict";var Sd=es(),Ed=fr(),vd=lr();function Td(e){return typeof e.constructor=="function"&&!vd(e)?Sd(Ed(e)):{}}os.exports=Td});var us=u((px,as)=>{"use strict";function Cd(){return!1}as.exports=Cd});var cr=u((be,K)=>{"use strict";var Ad=L(),Id=us(),cs=typeof be=="object"&&be&&!be.nodeType&&be,fs=cs&&typeof K=="object"&&K&&!K.nodeType&&K,jd=fs&&fs.exports===cs,ls=jd?Ad.Buffer:void 0,qd=ls?ls.isBuffer:void 0,wd=qd||Id;K.exports=wd});var ms=u((dx,ds)=>{"use strict";var _d=U(),Rd=fr(),Vd=F(),Jd="[object Object]",Ld=Function.prototype,Fd=Object.prototype,ps=Ld.toString,Pd=Fd.hasOwnProperty,Nd=ps.call(Object);function Md(e){if(!Vd(e)||_d(e)!=Jd)return!1;var r=Rd(e);if(r===null)return!0;var t=Pd.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&ps.call(t)==Nd}ds.exports=Md});var gs=u((mx,hs)=>{"use strict";var $d=U(),Dd=ir(),Bd=F(),Ud="[object Arguments]",Hd="[object Array]",zd="[object Boolean]",Gd="[object Date]",kd="[object Error]",Wd="[object Function]",Kd="[object Map]",Yd="[object Number]",Xd="[object Object]",Qd="[object RegExp]",Zd="[object Set]",em="[object String]",rm="[object WeakMap]",tm="[object ArrayBuffer]",nm="[object DataView]",im="[object Float32Array]",om="[object Float64Array]",sm="[object Int8Array]",am="[object Int16Array]",um="[object Int32Array]",fm="[object Uint8Array]",lm="[object Uint8ClampedArray]",cm="[object Uint16Array]",pm="[object Uint32Array]",y={};y[im]=y[om]=y[sm]=y[am]=y[um]=y[fm]=y[lm]=y[cm]=y[pm]=!0;y[Ud]=y[Hd]=y[tm]=y[zd]=y[nm]=y[Gd]=y[kd]=y[Wd]=y[Kd]=y[Yd]=y[Xd]=y[Qd]=y[Zd]=y[em]=y[rm]=!1;function dm(e){return Bd(e)&&Dd(e.length)&&!!y[$d(e)]}hs.exports=dm});var bs=u((xe,Y)=>{"use strict";var mm=Ke(),ys=typeof xe=="object"&&xe&&!xe.nodeType&&xe,Oe=ys&&typeof Y=="object"&&Y&&!Y.nodeType&&Y,hm=Oe&&Oe.exports===ys,pr=hm&&mm.process,gm=function(){try{var e=Oe&&Oe.require&&Oe.require("util").types;return e||pr&&pr.binding&&pr.binding("util")}catch{}}();Y.exports=gm});var dr=u((hx,Ss)=>{"use strict";var ym=gs(),bm=_e(),xs=bs(),Os=xs&&xs.isTypedArray,xm=Os?bm(Os):ym;Ss.exports=xm});var mr=u((gx,Es)=>{"use strict";function Om(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}Es.exports=Om});var hr=u((yx,vs)=>{"use strict";var Sm=Pe(),Em=pe(),vm=Object.prototype,Tm=vm.hasOwnProperty;function Cm(e,r,t){var n=e[r];(!(Tm.call(e,r)&&Em(n,t))||t===void 0&&!(r in e))&&Sm(e,r,t)}vs.exports=Cm});var Cs=u((bx,Ts)=>{"use strict";var Am=hr(),Im=Pe();function jm(e,r,t,n){var i=!t;t||(t={});for(var o=-1,s=r.length;++o<s;){var a=r[o],f=n?n(t[a],e[a],a,t,e):void 0;f===void 0&&(f=e[a]),i?Im(t,a,f):Am(t,a,f)}return t}Ts.exports=jm});var Is=u((xx,As)=>{"use strict";function qm(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}As.exports=qm});var Ne=u((Ox,js)=>{"use strict";var wm=9007199254740991,_m=/^(?:0|[1-9]\d*)$/;function Rm(e,r){var t=typeof e;return r=r??wm,!!r&&(t=="number"||t!="symbol"&&_m.test(e))&&e>-1&&e%1==0&&e<r}js.exports=Rm});var ws=u((Sx,qs)=>{"use strict";var Vm=Is(),Jm=Re(),Lm=P(),Fm=cr(),Pm=Ne(),Nm=dr(),Mm=Object.prototype,$m=Mm.hasOwnProperty;function Dm(e,r){var t=Lm(e),n=!t&&Jm(e),i=!t&&!n&&Fm(e),o=!t&&!n&&!i&&Nm(e),s=t||n||i||o,a=s?Vm(e.length,String):[],f=a.length;for(var l in e)(r||$m.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Pm(l,f)))&&a.push(l);return a}qs.exports=Dm});var Rs=u((Ex,_s)=>{"use strict";function Bm(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}_s.exports=Bm});var Js=u((vx,Vs)=>{"use strict";var Um=j(),Hm=lr(),zm=Rs(),Gm=Object.prototype,km=Gm.hasOwnProperty;function Wm(e){if(!Um(e))return zm(e);var r=Hm(e),t=[];for(var n in e)n=="constructor"&&(r||!km.call(e,n))||t.push(n);return t}Vs.exports=Wm});var gr=u((Tx,Ls)=>{"use strict";var Km=ws(),Ym=Js(),Xm=Je();function Qm(e){return Xm(e)?Km(e,!0):Ym(e)}Ls.exports=Qm});var Ps=u((Cx,Fs)=>{"use strict";var Zm=Cs(),eh=gr();function rh(e){return Zm(e,eh(e))}Fs.exports=rh});var Us=u((Ax,Bs)=>{"use strict";var Ns=ur(),th=Bo(),nh=Ko(),ih=Xo(),oh=ss(),Ms=Re(),$s=P(),sh=Le(),ah=cr(),uh=Ie(),fh=j(),lh=ms(),ch=dr(),Ds=mr(),ph=Ps();function dh(e,r,t,n,i,o,s){var a=Ds(e,t),f=Ds(r,t),l=s.get(f);if(l){Ns(e,t,l);return}var c=o?o(a,f,t+"",e,r,s):void 0,p=c===void 0;if(p){var d=$s(f),g=!d&&ah(f),m=!d&&!g&&ch(f);c=f,d||g||m?$s(a)?c=a:sh(a)?c=ih(a):g?(p=!1,c=th(f,!0)):m?(p=!1,c=nh(f,!0)):c=[]:lh(f)||Ms(f)?(c=a,Ms(a)?c=ph(a):(!fh(a)||uh(a))&&(c=oh(f))):p=!1}p&&(s.set(f,c),i(c,f,n,o,s),s.delete(f)),Ns(e,t,c)}Bs.exports=dh});var yr=u((Ix,zs)=>{"use strict";var mh=wo(),hh=ur(),gh=Po(),yh=Us(),bh=j(),xh=gr(),Oh=mr();function Hs(e,r,t,n,i){e!==r&&gh(r,function(o,s){if(i||(i=new mh),bh(o))yh(e,r,s,t,Hs,n,i);else{var a=n?n(Oh(e,s),o,s+"",e,r,i):void 0;a===void 0&&(a=o),hh(e,s,a)}},xh)}zs.exports=Hs});var ks=u((jx,Gs)=>{"use strict";var Sh=pe(),Eh=Je(),vh=Ne(),Th=j();function Ch(e,r,t){if(!Th(t))return!1;var n=typeof r;return(n=="number"?Eh(t)&&vh(r,t.length):n=="string"&&r in t)?Sh(t[r],e):!1}Gs.exports=Ch});var br=u((qx,Ws)=>{"use strict";var Ah=Ve(),Ih=ks();function jh(e){return Ah(function(r,t){var n=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&Ih(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),r=Object(r);++n<i;){var a=t[n];a&&e(r,a,n,o)}return r})}Ws.exports=jh});var Ys=u((wx,Ks)=>{"use strict";var qh=yr(),wh=br(),_h=wh(function(e,r,t){qh(e,r,t)});Ks.exports=_h});var Qs=u((_x,Xs)=>{"use strict";var Rh=yr(),Vh=br(),Jh=Vh(function(e,r,t,n){Rh(e,r,t,n)});Xs.exports=Jh});var ra=u((Rx,ea)=>{"use strict";var Lh=hr(),Fh=sr(),Ph=Ne(),Zs=j(),Nh=ar();function Mh(e,r,t,n){if(!Zs(e))return e;r=Fh(r,e);for(var i=-1,o=r.length,s=o-1,a=e;a!=null&&++i<o;){var f=Nh(r[i]),l=t;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(i!=s){var c=a[f];l=n?n(c,f,a):void 0,l===void 0&&(l=Zs(c)?c:Ph(r[i+1])?[]:{})}Lh(a,f,l),a=a[f]}return e}ea.exports=Mh});var na=u((Vx,ta)=>{"use strict";var $h=ra();function Dh(e,r,t){return e==null?e:$h(e,r,t)}ta.exports=Dh});var Br=q(Jr(),1);function Fr(e){if(e===0)return 0;let r=e/1024;return Number.parseFloat(r.toFixed(2))}var Ta=["if","then","else"];function Lr(e){return e&&typeof e=="object"&&!Array.isArray(e)}function ie(e,r){if(!(!e||!r)&&!(typeof e!="object"||typeof r!="object"))for(let[t,n]of Object.entries(r)){if(Ta.includes(t))continue;let i=e[t];if(Lr(n))Lr(i)?ie(i,n):i!==n&&(e[t]=n);else if(i&&Array.isArray(n)){let o=i;for(let s of n)s&&typeof s=="object"?ie(o,n):t==="required"?o.find(a=>a===s)||o.push(s):e[t]=n}else e[t]!==n&&(e[t]=n)}}var Pr="yyyy-MM-dd";function Nr(e,r){let t=new Date(e).getTime(),n=new Date(r).getTime();return t<n?"LESSER":t>n?"GREATER":"EQUAL"}function Ca(e,r){let t=Nr(e,r);return t==="GREATER"||t==="EQUAL"}function Aa(e,r){let t=Nr(e,r);return t==="LESSER"||t==="EQUAL"}function Mr(e,r,t,n=[]){let i=typeof e=="string",o=e==="",s=e===void 0||e===null&&t.treatNullAsUndefined,a=o||s,f=[];if(!i||a||r["x-jsf-presentation"]===void 0)return f;let{minDate:l,maxDate:c}=r["x-jsf-presentation"];return l&&!Ca(e,l)&&f.push({path:n,validation:"minDate",schema:r,value:e}),c&&!Aa(e,c)&&f.push({path:n,validation:"maxDate",schema:r,value:e}),f}function $r(e){return e["x-jsf-presentation"]?.inputType==="checkbox"}var Dr="Please acknowledge this field";function Ur(e,r,t,n){let i=e["x-jsf-presentation"];switch(t){case"type":return Ia(e.type);case"required":return $r(e)?Dr:"Required field";case"forbidden":return"Not allowed";case"const":return $r(e)&&r===!1?Dr:`The only accepted value is ${JSON.stringify(e.const)}.`;case"enum":return`The option "${He(r)}" is not valid.`;case"oneOf":return`The option "${He(r)}" is not valid.`;case"anyOf":return`The option "${He(r)}" is not valid.`;case"not":return"The value must not satisfy the provided schema";case"minLength":return`Please insert at least ${e.minLength} characters`;case"maxLength":return`Please insert up to ${e.maxLength} characters`;case"pattern":return`Must have a valid format. E.g. ${(0,Br.randexp)(e.pattern||"")}`;case"format":if(e.format==="email")return"Please enter a valid email address";if(e.format==="date"){let o=new Date().toISOString().split("T")[0];return`Must be a valid date in ${Pr.toLowerCase()} format. e.g. ${o}`}return`Must be a valid ${e.format} format`;case"multipleOf":return`Must be a multiple of ${e.multipleOf}`;case"maximum":return`Must be smaller or equal to ${e.maximum}`;case"exclusiveMaximum":return`Must be smaller than ${e.exclusiveMaximum}`;case"minimum":return`Must be greater or equal to ${e.minimum}`;case"exclusiveMinimum":return`Must be greater than ${e.exclusiveMinimum}`;case"minDate":return`The date must be ${i?.minDate} or after.`;case"maxDate":return`The date must be ${i?.maxDate} or before.`;case"fileStructure":return"Not a valid file.";case"maxFileSize":{let o=i?.maxFileSize,s=typeof o=="number"?Fr(o):void 0;return`File size too large.${s?` The limit is ${s} MB.`:""}`}case"accept":{let o=i?.accept;return`Unsupported file format.${o?` The acceptable formats are ${o}.`:""}`}case"minItems":{let o=e.minItems===1?"item":"items";return`Must have at least ${e.minItems} ${o}`}case"maxItems":{let o=e.maxItems===1?"item":"items";return`Must have at most ${e.maxItems} ${o}`}case"uniqueItems":return"Items must be unique";case"contains":throw new Error('"contains" is not implemented yet');case"minContains":throw new Error('"minContains" is not implemented yet');case"maxContains":throw new Error('"maxContains" is not implemented yet');case"additionalProperties":return"Additional property is not allowed";case"json-logic":return n||"The value is not valid"}}function Ia(e){if(Array.isArray(e))return`The value must be a ${e.map(t=>t==="integer"?"number":t).join(" or ")}`;switch(e){case"number":case"integer":return"The value must be a number";case"boolean":return"The value must be a boolean";case"null":return"The value must be null";case"string":return"The value must be a string";case"object":return"The value must be an object";case"array":return"The value must be an array";default:return e?`The value must be ${e}`:"Invalid value"}}function He(e){return typeof e=="string"?e:JSON.stringify(e)}var Kr=q(kr(),1);function Da(e,r){let t={};return r.forEach((i,o)=>{t[i]=o}),e.sort((i,o)=>{let s=t[i.name]??1/0,a=t[o.name]??1/0;return s!==a?s-a:e.indexOf(i)-e.indexOf(o)})}function ze(e,r){if(typeof e=="boolean")throw new TypeError("Schema must be an object");return e["x-jsf-order"]!==void 0?Da(r,e["x-jsf-order"]):r}function Ba(e,r,t){r.checkboxValue=t.const,(Array.isArray(t.type)?t.type.includes("boolean"):t.type==="boolean")&&(r.checkboxValue=!0)}function Ua(e,r){if(e.options===void 0){let t=Ga(r);t&&(e.options=t,r.type==="array"&&(e.multiple=!0))}}function Ha(e,r,t,n,i,o){if(e.options===void 0&&e.asyncOptions===void 0){let s=Ka(r,t,n,i,o);s&&(e.fields=s)}}function za(e,r){if(!e)return"text";switch(e){case"string":{let{oneOf:t,format:n}=r;return n==="email"?"email":n==="date"?"date":n==="data-url"?"file":t?"radio":"text"}case"number":case"integer":return"number";case"object":return"fieldset";case"array":{let{items:t}=r;return t?.properties?"group-array":"select"}case"boolean":return"checkbox";default:return"text"}}function Wr(e,r,t,n){let i=t["x-jsf-presentation"];if(i?.inputType)return i.inputType;if(n&&r!=="root")throw new Error(`Strict error: Missing inputType to field "${t.title}".
You can fix the json schema or skip this error by calling createHeadlessForm(schema, { strictInputType: false })`);if(!t.type){if(t.items?.properties)return"group-array";if(t.properties)return"select"}return za(e||t.type||"string",t)}function Te(e){return e.filter(r=>r!==null&&typeof r=="object"&&r.const!==null).map(r=>{let t=r.title,n=r.const,i=typeof r["x-jsf-presentation"]=="object"?r["x-jsf-presentation"]:{},o={label:t||"",value:n},{title:s,const:a,"x-jsf-presentation":f,...l}=r;return{...o,...i,...l}})}function Ga(e){if(e.oneOf)return Te(e.oneOf||[]);if(e.items?.anyOf)return Te(e.items.anyOf);if(e.anyOf)return Te(e.anyOf);if(e.enum){let r=e.enum?.map(t=>({title:typeof t=="string"?t:JSON.stringify(t),const:t}))||[];return Te(r)}return null}function ka(e,r,t,n,i){let o=[];for(let a in e.properties){let f=e.required?.includes(a)||!1,l=J({schema:e.properties[a],name:a,required:f,originalSchema:r.properties?.[a]||e.properties[a],strictInputType:t,asyncLoaders:n,formValues:i});l&&o.push(l)}return ze(e,o)}function Wa(e,r,t,n,i){let o=[];if(typeof e.items!="object"||e.items===null)return[];if(e.items?.type==="object"){let a=e.items;for(let f in a.properties){let l=a.required?.includes(f)||!1,c=J({schema:a.properties[f],name:f,required:l,originalSchema:r,strictInputType:t,asyncLoaders:n,formValues:i});c&&(c.nameKey=f,o.push(c))}}else{let a=J({schema:e.items,name:"item",required:!1,originalSchema:r,strictInputType:t,asyncLoaders:n,formValues:i});a&&o.push(a)}return ze(e.items,o)}function Ka(e,r,t,n,i){return typeof e.properties=="object"&&e.properties!==null?ka(e,r,t,n,i):typeof e.items=="object"&&e.items!==null?Wa(e,r,t,n,i):null}var Ya=["title","type","x-jsf-errorMessage","x-jsf-presentation","x-jsf-layout","oneOf","anyOf","properties"];function J({schema:e,name:r,required:t=!1,originalSchema:n,strictInputType:i=!1,type:o=void 0,asyncLoaders:s={},formValues:a={}}){if(e===!1){let S=Wr(o,r,n,i),_=["fieldset","group-array"].includes(S);return{type:S,name:r,inputType:S,jsonType:"boolean",required:t,isVisible:!1,..._&&{fields:[]}}}if(typeof e=="boolean")return null;let f=n["x-jsf-presentation"]||{},l=e["x-jsf-presentation"]||{},c=(0,Kr.default)(f,l,{arrayMerge:(S,_,Er)=>_}),p=n["x-jsf-layout"],g=e["x-jsf-layout"]||p,m=e["x-jsf-errorMessage"],E=Wr(o,r,e,i),v={...Object.entries(e).filter(([S])=>!Ya.includes(S)).reduce((S,[_,Er])=>({...S,[_]:Er}),{}),name:r,inputType:E,type:E,jsonType:o||e.type,required:t,isVisible:!0,...m&&{errorMessage:m},...g&&{layout:g}};E==="checkbox"&&Ba(E,v,e),e.title&&(v.label=e.title),Object.keys(c).length>0&&Object.entries(c).forEach(([S,_])=>{S==="inputType"||S==="asyncOptions"||(v[S]=_)}),r!=="root"&&Ua(v,e);let A=c.asyncOptions;if(A&&A.id){let S=s?.[A.id];S!==void 0?v.asyncOptions={...A,loader:S}:v.asyncOptions=A}return Ha(v,e,n,i,s,a),v}function C(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function I(e,r){if(typeof e!=typeof r)return!1;if(e===r)return!0;if(e===null||r===null)return!1;if(Array.isArray(e)&&Array.isArray(r))return e.length!==r.length?!1:e.every((t,n)=>I(t,r[n]));if(C(e)&&C(r)){let t=Object.keys(e).sort(),n=Object.keys(r).sort();return t.length!==n.length||!I(t,n)?!1:t.every(i=>I(e[i],r[i]))}return!1}function Yr(e){if(typeof structuredClone=="function")try{return structuredClone(e)}catch(r){console.warn("structuredClone failed, falling back to JSON method:",r)}try{return JSON.parse(JSON.stringify(e))}catch{throw new Error("Deep clone failed: Object may contain circular references or non-serializable values")}}function Xr(e,r,t,n,i){return Array.isArray(e)?[...Xa(r,e,i),...ru(r,e,i),...eu(e,r,t,n,i),...Za(r,e,t,n,i),...Qa(r,e,t,n,i)]:[]}function Xa(e,r,t){let n=[],i=r.length;return e.maxItems!==void 0&&i>e.maxItems&&n.push({path:t,validation:"maxItems",schema:e,value:r}),e.minItems!==void 0&&i<e.minItems&&n.push({path:t,validation:"minItems",schema:e,value:r}),n}function Qa(e,r,t,n,i){if(e.items===void 0)return[];let o=[],s=Array.isArray(e.prefixItems)?e.prefixItems.length:0;for(let[a,f]of r.slice(s).entries())o.push(...x(f,e.items,t,[...i,"items",a+s],n));return o}function Za(e,r,t,n,i){if(!Array.isArray(e.prefixItems))return[];let o=[];for(let[s,a]of r.entries())s<e.prefixItems.length&&o.push(...x(a,e.prefixItems[s],t,[...i,"prefixItems",s],n));return o}function eu(e,r,t,n,i){if(!("contains"in r))return[];let o=[],s=e.filter(a=>x(a,r.contains,t,[...i,"contains"],n).length===0).length;return r.minContains===void 0&&r.maxContains===void 0?s<1&&o.push({path:i,validation:"contains",schema:r,value:e}):(r.minContains!==void 0&&s<r.minContains&&o.push({path:i,validation:"minContains",schema:r,value:e}),r.maxContains!==void 0&&s>r.maxContains&&o.push({path:i,validation:"maxContains",schema:r,value:e})),o}function ru(e,r,t){if(e.uniqueItems!==!0)return[];let n=new Map;for(let i=0;i<r.length;i++){for(let o of n.values())if(I(r[i],o))return[{path:t,validation:"uniqueItems",schema:e,value:r[i]}];n.set(i,r[i])}return[]}function Qr(e,r,t,n,i=[]){if(!r.allOf)return[];for(let o=0;o<r.allOf.length;o++){let s=r.allOf[o],a=x(e,s,t,[...i,"allOf",o],n);if(a.length>0)return a}return[]}function Zr(e,r,t,n,i=[]){if(!r.anyOf)return[];if(i.length!==0){for(let a of r.anyOf)if(x(e,a,t,i,n).length===0)return[];return[{path:i,validation:"anyOf",schema:r,value:e}]}let o=[];for(let a of r.anyOf){let f=x(e,a,t,i,n);f.length!==0&&o.push(f)}return o.length<r.anyOf.length?[]:o.flat().reverse()}function et(e,r,t,n,i=[]){if(!r.oneOf)return[];if(r.oneOf.length===0)return[];let o=0;for(let s=0;s<r.oneOf.length&&!(x(e,r.oneOf[s],t,i,n).length===0&&(o++,o>1));s++);return o===0?[{path:i,validation:"oneOf",schema:r,value:e}]:o>1?[{path:i,validation:"oneOf",schema:r,value:e}]:[]}function rt(e,r,t,n,i=[]){return r.not===void 0?[]:typeof r.not=="boolean"?r.not?[{path:i,validation:"not",schema:r,value:e}]:[]:x(e,r.not,t,i,n).length===0?[{path:i,validation:"not",schema:r,value:e}]:[]}function tt(e,r,t=[]){let n=typeof r.const<"u"?r.const:r.value;return n===void 0?[]:I(n,e)?[]:[{path:t,validation:"const",schema:r,value:e}]}function nt(e,r,t=[]){return r.enum===void 0?[]:r.enum.some(n=>I(n,e))?[]:[{path:t,validation:"enum",schema:r,value:e}]}function it(e,r,t=[]){let n=r["x-jsf-presentation"],i=n?.inputType==="file",o=typeof n?.maxFileSize=="number"||typeof n?.accept=="string";if(!(i||o))return[];if(!Array.isArray(e))return[];if(e.length===0)return[];if(!e.every(l=>C(l)&&typeof l.name=="string"&&typeof l.size=="number"))return[{path:t,validation:"fileStructure",schema:r,value:e}];let f=e;if(typeof n?.maxFileSize=="number"){let l=n.maxFileSize*1024;if(f.some(p=>p.size>l))return[{path:t,validation:"maxFileSize",schema:r,value:e}]}if(typeof n?.accept=="string"&&n.accept.trim()!==""){let l=n.accept.toLowerCase().split(",").map(c=>c.trim()).filter(c=>c).map(c=>c.startsWith(".")?c:`.${c}`);if(l.length>0&&!f.some(p=>{let d=p.name.toLowerCase(),g=d.includes(".")?`.${d.split(".").pop()}`:"";return g!==""&&l.includes(g)}))return[{path:t,validation:"accept",schema:r,value:e}]}return[]}import B from"json-logic-js";function Ae(e,r){let{validations:t,computedValues:n}=e;return{schema:{validations:t,computedValues:n},value:r}}function ot(e){return/\{\{.*?\}\}/.test(e)}function Ce(e={}){return Object.entries(e).reduce((r,[t,n])=>({...r,[t]:n??Number.NaN}),{})}function st(e,r,t=[]){let n=e["x-jsf-logic-validations"];return!n||n.length===0?[]:n.map(i=>{let o=r?.schema?.validations?.[i],s=r?.value;if(!o)throw new Error(`[json-schema-form] json-logic error: "${e.title}" required validation "${i}" doesn't exist.`);if(B.apply(o.rule,Ce(s))===!1){let f=o.errorMessage;return f&&ot(f)&&(f=f.replace(/\{\{(.*?)\}\}/g,(l,c)=>{let p=c.trim(),d=r.schema.computedValues?.[p];return d?B.apply(d.rule,Ce(s)):B.apply({var:p},Ce(s))})),[{path:t,validation:"json-logic",customErrorMessage:f,schema:e,value:s}]}return[]}).flat()}function tu(e,r,t){if(!r)throw new Error(`[json-schema-form] json-logic error: Computed value "${e}" doesn't exist`);return B.apply(r,Ce(t))}function at(e,r,t){if(r){let n={};Object.entries(r).forEach(([i,o])=>{let s=tu(i,o.rule,t);n[i]=s}),se(e,n)}return e}function se(e,r){function t(n){if(typeof n!="object")return;let i=n["x-jsf-logic-computedAttrs"];if(i&&nu(n,r,i),typeof n.properties=="object")for(let o in n.properties)t(n.properties[o]);if(typeof n.if=="object"&&se(n.if,r),n.allOf&&n.allOf.length>0)for(let o of n.allOf)se(o,r);if(n.anyOf&&n.anyOf.length>0)for(let o of n.anyOf)se(o,r);if(n.oneOf&&n.oneOf.length>0)for(let o of n.oneOf)se(o,r);delete n["x-jsf-logic-computedAttrs"]}t(e)}function nu(e,r,t){if(typeof e!="object")return;function n(o){return ot(o)?o.replace(/\{\{(.*?)\}\}/g,(s,a)=>{let f=a.trim();return r[f]||`{{${f}}}`}):r[o]}function i(o,s,a,f){if(typeof o!="object")return;let l=s;o[l]||(o[l]={}),Object.entries(a).forEach(([c,p])=>{typeof p=="string"?o[l][c]=n(p):i(o[l],c,p,f)})}for(let o in t){let s=o,a=t[o];typeof a=="string"?e[s]=n(a):typeof e=="object"&&i(e,s,a,r)}}function ut(e){if(e)for(let[r,t]of Object.entries(e))B.add_operation(r,t)}function ft(e){if(e)for(let r of Object.keys(e))B.rm_operation(r)}function lt(e,r,t=[]){let n=[],i=ae(r);return typeof e!="number"?[]:i!==void 0&&!["number","integer"].includes(i)?[]:(r.multipleOf!==void 0&&e%r.multipleOf!==0&&n.push({path:t,validation:"multipleOf",schema:r,value:e}),r.maximum!==void 0&&e>r.maximum&&n.push({path:t,validation:"maximum",schema:r,value:e}),r.exclusiveMaximum!==void 0&&e>=r.exclusiveMaximum&&n.push({path:t,validation:"exclusiveMaximum",schema:r,value:e}),r.minimum!==void 0&&e<r.minimum&&n.push({path:t,validation:"minimum",schema:r,value:e}),r.exclusiveMinimum!==void 0&&e<=r.exclusiveMinimum&&n.push({path:t,validation:"exclusiveMinimum",schema:r,value:e}),n)}function ct(e,r,t,n,i=[]){if(typeof r=="object"&&r.properties&&C(e)){let o=[];for(let[s,a]of Object.entries(r.properties))o.push(...x(e[s],a,t,[...i,s],n));return o}return[]}var pt;(function(e){e["7bit"]="7bit",e["8bit"]="8bit",e.Base64="base64",e.Binary="binary",e.IETFToken="ietf-token",e.QuotedPrintable="quoted-printable",e.XToken="x-token"})(pt||(pt={}));var b;(function(e){e.Date="date",e.DateTime="date-time",e.Duration="duration",e.Email="email",e.Hostname="hostname",e.IDNEmail="idn-email",e.IDNHostname="idn-hostname",e.IPv4="ipv4",e.IPv6="ipv6",e.IRI="iri",e.IRIReference="iri-reference",e.JSONPointer="json-pointer",e.JSONPointerURIFragment="json-pointer-uri-fragment",e.RegEx="regex",e.RelativeJSONPointer="relative-json-pointer",e.Time="time",e.URI="uri",e.URIReference="uri-reference",e.URITemplate="uri-template",e.UUID="uuid"})(b||(b={}));var dt;(function(e){e.Array="array",e.Boolean="boolean",e.Integer="integer",e.Null="null",e.Number="number",e.Object="object",e.String="string"})(dt||(dt={}));var O={DATE_TIME:/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})$/,DATE:/^\d{4}-\d{2}-\d{2}$/,TIME:/^(?:[01]\d|2[0-3]):[0-5]\d:[0-5]\d(?:\.\d+)?(?:Z|[+-](?:[01]\d|2[0-3]):[0-5]\d)$/,DURATION:/^P(?!$)(?:\d+Y)?(?:\d+M)?(?:\d+D)?(?:T(?=\d)(?:\d+H)?(?:\d+M)?(?:\d+S)?)?$/,EMAIL:/^[\w.!#$%&'*+/=?^`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,IDN_EMAIL:/^[^\s@]+@[^\s@][^\s.@]*\.[^\s@]+$/,HOSTNAME:/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?$/i,IDN_HOSTNAME:/^[^\s._-].*[^\s._-]$/,IPV6_PART:/^[0-9a-f]{1,4}$/i,PROTOCOL:/^[a-z]+:/,URI_REFERENCE:/^\S*$/,UUID:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,JSON_POINTER:/^(?:\/(?:[^~/]|~0|~1)*)*$/,JSON_POINTER_URI_FRAGMENT:/^#(?:\/(?:[\w\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,RELATIVE_JSON_POINTER:/^(?:0|[1-9]\d*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,URI_TEMPLATE:/^(?:[!#$&'()*+,/:;=?@\w\-.~]|%[0-9a-f]{2}|\{[+#./;?&=,!@|]?(?:\w|%[0-9a-f]{2})+(?::[1-9]\d{0,3}|\*)?(?:,(?:\w|%[0-9a-f]{2})+(?::[1-9]\d{0,3}|\*)?)*\})*$/i},iu={[b.DateTime]:e=>O.DATE_TIME.test(e),[b.Date]:e=>O.DATE.test(e),[b.Time]:e=>O.TIME.test(e),[b.Duration]:e=>O.DURATION.test(e),[b.Email]:e=>e.length<=254&&O.EMAIL.test(e),[b.IDNEmail]:e=>e.length<=254&&O.IDN_EMAIL.test(e),[b.Hostname]:e=>e.length>255?!1:e.split(".").every(t=>O.HOSTNAME.test(t)),[b.IDNHostname]:e=>e.length>255?!1:e.split(".").every(t=>t.length<=63&&O.IDN_HOSTNAME.test(t)),[b.IPv4]:e=>{let r=e.split(".");return r.length!==4?!1:r.every(t=>{let n=Number.parseInt(t,10);return n>=0&&n<=255&&t===n.toString()})},[b.IPv6]:e=>{let r=e.split(":");if(r.length>8)return!1;let t=!1;return r.every(n=>n===""?t?!1:(t=!0,!0):O.IPV6_PART.test(n))},[b.URI]:e=>{try{let r=new URL(e);return r.protocol!==""&&O.PROTOCOL.test(r.protocol)}catch{return!1}},[b.URIReference]:e=>{try{return e.startsWith("//")?O.URI_REFERENCE.test(e.slice(2)):(new URL(e,"http://example.com"),!0)}catch{return!1}},[b.IRI]:e=>{try{let r=new URL(e);return r.protocol!==""&&O.PROTOCOL.test(r.protocol)}catch{return!1}},[b.IRIReference]:e=>{try{return e.startsWith("//")?O.URI_REFERENCE.test(e.slice(2)):(new URL(e,"http://example.com"),!0)}catch{return!1}},[b.RegEx]:e=>{try{return new RegExp(e,"u"),!0}catch{return!1}},[b.UUID]:e=>O.UUID.test(e),[b.JSONPointer]:e=>O.JSON_POINTER.test(e),[b.JSONPointerURIFragment]:e=>O.JSON_POINTER_URI_FRAGMENT.test(e),[b.RelativeJSONPointer]:e=>O.RELATIVE_JSON_POINTER.test(e),[b.URITemplate]:e=>O.URI_TEMPLATE.test(e)};function mt(e,r,t=[]){let n=[];if(typeof e!="string")return n;let i=iu[r.format];return i&&!i(e)&&n.push({path:t,validation:"format",schema:r,value:e}),n}function ht(e,r,t=[]){let n=[],i=ae(r);if(typeof e!="string")return[];if(i!==void 0&&i!=="string")return[];let o=[...new Intl.Segmenter().segment(e)].length;if(r.minLength!==void 0&&o<r.minLength&&n.push({path:t,validation:"minLength",schema:r,value:e}),r.maxLength!==void 0&&o>r.maxLength&&n.push({path:t,validation:"maxLength",schema:r,value:e}),r.pattern!==void 0&&(new RegExp(r.pattern).test(e)||n.push({path:t,validation:"pattern",schema:r,value:e})),r.format!==void 0){let s=mt(e,r,t);n.push(...s)}return n}function ae(e){if(typeof e=="boolean")return"boolean";if(e.type!==void 0)return e.type}function ou(e,r,t=[]){let n=ae(r);if(n===void 0)return[];if(n==="null"&&e===null)return[];let i=e===null?"null":Array.isArray(e)?"array":typeof e;if(Array.isArray(n)){if(e===null&&n.includes("null"))return[];for(let o of n){if(o==="array"&&Array.isArray(e))return[];if(i==="number"&&o==="integer"&&Number.isInteger(e))return[];if(i===o||o==="null"&&e===null)return[]}}else{if(n==="array"&&Array.isArray(e))return[];if(i==="number"&&n==="integer"&&Number.isInteger(e))return[];if(i===n)return[]}return[{path:t,validation:"type",schema:r,value:e}]}function su(e,r,t={},n=[],i){return r?x(e,r,t,n,i):[]}function au(e={}){return Object.keys(e).map(r=>({regex:new RegExp(r)}))}function x(e,r,t={},n=[],i){let o=i,s;if(!i&&r["x-jsf-logic"]){o=Ae(r["x-jsf-logic"],e);let{validations:d,computedValues:g,...m}=r["x-jsf-logic"];s=m}let a=e===void 0||e===null&&t.treatNullAsUndefined,f=[];if(a)return[];if(typeof r=="boolean")return!r&&!t.allowForbiddenValues?[{path:n,validation:"forbidden",schema:r,value:e}]:[];let c=r["x-jsf-presentation"]?.inputType==="file",p=[];if(!c&&(p=ou(e,r,n),p.length>0))return p;if(r.required&&C(e)){let d=r.required.filter(g=>{let m=e[g];return Array.isArray(m)?m.length===0:C(m)?Object.keys(m).length===0:m===void 0||m===null&&t.treatNullAsUndefined});for(let g of d)f.push({path:[...n,g],validation:"required",schema:r?.properties?.[g]||r,value:e})}if(r.additionalProperties===!1&&C(e)){let d=new Set(Object.keys(r.properties||{})),g=au(r.patternProperties);for(let m of Object.keys(e)){let E=d.has(m),v=g.some(({regex:A})=>A.test(m));!E&&!v&&f.push({path:[...n,m],validation:"additionalProperties",schema:r,value:e[m]})}}return[...f,...tt(e,r,n),...nt(e,r,n),...ct(e,r,t,o,n),...Xr(e,r,t,o,n),...ht(e,r,n),...lt(e,r,n),...it(e,r,n),...rt(e,r,t,o,n),...Qr(e,r,t,o,n),...Zr(e,r,t,o,n),...et(e,r,t,o,n),...gt(e,r,t,o,n),...Mr(e,r,t,n),...su(e,s,t,n,o),...st(r,o,n)]}function Ge(e,r,t,n,i=[]){return x(e,r,{...t,...typeof r=="boolean"?{allowForbiddenValues:!1}:{}},i,n).length===0}function gt(e,r,t,n,i=[]){if(r.if===void 0)return[];let o=Ge(e,r.if,t,n,i);return o&&r.then!==void 0?x(e,r.then,t,[...i,"then"],n):!o&&r.else!==void 0?x(e,r.else,t,[...i,"else"],n):[]}function ke({schema:e,values:r,options:t={}}){let n=e["x-jsf-logic"]?Ae(e["x-jsf-logic"],r):void 0,i=Yr(e);return ue(i,r,t,n),n?.schema.computedValues&&(at(i,n.schema.computedValues,r),ue(i,r,t,n)),i}function yt(e,r,t,n={},i){let o=Ge(e,t.if,n,i),s=!1;return o&&t.if?.required&&(s=t.if.required.some(f=>{if(!r.properties||!r.properties[f])return!1;let l=r.properties[f],c=e[f];return x(c,l,n).some(d=>d.validation==="type")})),{rule:t,matches:o&&!s}}function ue(e,r={},t={},n){if(!C(r))return;let i=[];typeof e.if<"u"&&i.push(yt(r,e,e,t,n)),(e.allOf??[]).filter(o=>typeof o.if<"u").forEach(o=>{let s=yt(r,e,o,t,n);i.push(s)});for(let{rule:o,matches:s}of i)s&&o.then?(bt(e,r,o.then,t,n),delete o.then):!s&&o.else&&(bt(e,r,o.else,t,n),delete o.else);if(e.properties){for(let[o,s]of Object.entries(e.properties))if(typeof s=="object"){let a=s;a.type==="object"&&ue(a,r[o],t,n),a.items&&ue(a.items,{},t,n)}}}function bt(e,r,t,n={},i){let o=t;ue(o,r,n,i),ie(e,o)}function We(e,r,t){let n=J({schema:r,name:"root",required:!0,originalSchema:t,strictInputType:!1})?.fields||[];for(let i of e){let o=n.find(s=>s.name===i.name);if(o){xt(i,o),ie(i,o);let s=r.properties?.[i.name],a=t.properties?.[i.name];s&&typeof s=="object"&&i.fields&&s.type==="object"&&We(i.fields,s,a)}}}function xt(e,r){for(let[t]of Object.entries(e))r[t]?e[t]&&typeof e[t]=="object"&&!Array.isArray(e[t])&&r[t]&&typeof r[t]=="object"&&!Array.isArray(r[t])&&xt(e[t],r[t]):delete e[t]}function uu(e){let r=[];for(let t=0;t<e.length;t++){let n=e[t];if(["allOf","anyOf","oneOf"].includes(n)){t+1<e.length&&typeof e[t+1]=="number"&&t++;continue}n==="then"||n==="else"||(n==="items"&&typeof e[t+1]=="number"?(t++,r.push(e[t])):r.push(n))}return r}function fu(e){if(e.length===0)return null;let r={};for(let t of e){let{path:n}=t;if(n.length===0){r[""]=t.message;continue}let i=uu(n),o=r;for(let s=0;s<i.length-1;s++){let a=i[s];if(typeof a=="number"){if(!Array.isArray(o))throw new TypeError(`Expected an array at path: ${i.slice(0,s).join(".")}`);o[a]||(o[a]={}),o=o[a]}else typeof i[s+1]=="number"?a in o||(o[a]=[]):(!(a in o)||typeof o[a]=="string")&&(o[a]={}),o=o[a]}if(i.length>0){let s=i[i.length-1];o[s]=t.message}}return r}function lu(e){return e.map(r=>{let{schema:t,value:n,validation:i,customErrorMessage:o}=r;return{...r,message:Ur(t,n,i,o)}})}function cu(e,r){return typeof r!="object"||!r||!e.length?e:e.map(t=>{let n=t.schema,i=n["x-jsf-errorMessage"]?.[t.validation];return n&&i?{...t,message:i}:t})}function pu(e,r,t={}){let n={},i=x(e,r,t),o=lu(i),s=cu(o,r),a=fu(s);return a&&(n.formErrors=a),n}function du(e){let{schema:r,originalSchema:t,strictInputType:n,asyncLoaders:i,formValues:o}=e,s=J({schema:r,name:"root",required:!0,originalSchema:t,strictInputType:n,asyncLoaders:i,formValues:o}),a=s?.fields||[],f=s?.layout||null;return f&&a.length>0&&a.forEach(l=>{l._rootLayout||(l._rootLayout=f)}),{fields:a,layout:f}}function mu(e){if(Object.prototype.hasOwnProperty.call(e,"customProperties")&&console.error("[json-schema-form] `customProperties` is a deprecated option and it's not supported on json-schema-form v1"),e.customJsonLogicOps){if(typeof e.customJsonLogicOps!="object"||e.customJsonLogicOps===null)throw new TypeError("validationOptions.customJsonLogicOps must be an object.");for(let[r,t]of Object.entries(e.customJsonLogicOps))if(typeof t!="function")throw new TypeError(`Custom JSON Logic operator '${r}' must be a function, but received type '${typeof t}'.`)}}function hu(e,r={}){mu(r);let t=r.initialValues||{},n=r.strictInputType||!1,i=r.asyncLoaders||{},o=ke({schema:e,values:t,options:r.legacyOptions}),{fields:s,layout:a}=du({schema:o,originalSchema:e,strictInputType:n,asyncLoaders:i,formValues:t});return{fields:s,isError:!1,error:null,handleValidation:c=>{let p=r?.customJsonLogicOps;try{ut(p);let d=ke({schema:e,values:c,options:r.legacyOptions}),g=pu(c,d,r.legacyOptions);return We(s,d,e),g}finally{ft(p)}},layout:a}}var ia=q($i(),1),Q=q(lo(),1),X=q(bo(),1),oa=q(Ys(),1),Or=q(Qs(),1),Me=q(na(),1);function sa(e){return e.replaceAll(".",".properties.")}function aa(e){let{errorMessage:r,presentation:t,properties:n,...i}=e;return{...i,...t?{"x-jsf-presentation":t}:{},...r?{"x-jsf-errorMessage":r}:{}}}function ua(e,r){return Array.isArray(r)?r:void 0}function Bh(e,r){let{if:t,then:n,else:i}=e;return(0,X.default)(t?.required||[],r).length>0||((0,X.default)(n?.required||[],r)||(0,X.default)(Object.keys(n?.properties||{}),r)).length>0||((0,X.default)(i?.required||[],r)||(0,X.default)(Object.keys(i?.properties||{}),r)).length>0}function fa(e,r){if(!r)return{warnings:null};let t=[];return Object.entries(r).forEach(([i,o])=>{let s=sa(i),a=(0,Q.default)(e.properties,s);if(!a){t.push({type:"FIELD_TO_CHANGE_NOT_FOUND",message:`Changing field "${i}" was ignored because it does not exist.`});return}let f=typeof o=="function"?o(a):o;if((0,Or.default)(a,{...aa(f)},ua),f.properties){let l=fa((0,Q.default)(e.properties,s),f.properties);l.warnings&&t.push(...l.warnings)}}),{warnings:t.flat()}}function la(e,r,t){if(!r||typeof e!="object"||e===null)return{warnings:null};let n=t?.parent;return typeof e=="object"&&e.properties&&Object.entries(e.properties).forEach(([i,o])=>{let s=n?`${n}.${i}`:i,a=r(s,o),f=aa(a);(0,Or.default)((0,Q.default)(e.properties,i),{...o,...f},ua),o.properties&&la(o,r,{parent:i})}),{warnings:null}}function Uh(e,r){if(!r)return{warnings:null};let t=[],n=e["x-jsf-order"]||[],i=typeof r=="function"?r(n):r,o=(0,ia.default)(n,i);return o.length>0&&t.push({type:"ORDER_MISSING_FIELDS",message:`Some fields got forgotten in the new order. They were automatically appended: ${o.join(", ")}`}),e["x-jsf-order"]=[...i,...o],{warnings:t}}function ca(e,r){if(!r)return{warnings:null};let t=[];return Object.entries(r).forEach(([i,o])=>{let s=sa(i);if(!o)return{warnings:null};if(o.properties){let l=(0,Q.default)(e.properties,s);if(!l)return{warnings:null};let c=ca(l,o.properties);c.warnings&&t.push(...c.warnings)}if((0,Q.default)(e.properties,s)){t.push({type:"FIELD_TO_CREATE_EXISTS",message:`Creating field "${i}" was ignored because it already exists.`});return}let f=(0,Me.default)({},s,o);(0,oa.default)(e.properties,f)}),{warnings:t.flat()}}function Hh(e,r){if(!r)return{schema:e,warnings:null};let t={properties:{}};Object.entries(e).forEach(([o,s])=>{switch(o){case"properties":r.forEach(a=>{(0,Me.default)(t.properties,a,s[a])});break;case"x-jsf-order":case"required":t[o]=s.filter(a=>r.includes(a));break;case"allOf":{let a=e[o]?.filter(f=>Bh(f,r));t[o]=a;break}case"x-jsf-logic":t[o]=s;break}});let n={};t.allOf?.length&&t.allOf.forEach(o=>{let{if:s,then:a,else:f}=o,l=e.allOf?.indexOf(o);n={...n,...xr(s,{fields:r,path:`allOf[${l}].if`}),...xr(a,{fields:r,path:`allOf[${l}].then`}),...xr(f,{fields:r,path:`allOf[${l}].else`})}});let i=[];return Object.keys(n).length>0&&(Object.entries(n).forEach(([o])=>{(0,Me.default)(t.properties,o,e.properties?.[o])}),i.push({type:"PICK_MISSED_FIELD",message:`The picked fields are in conditionals that refeer other fields. They added automatically: ${Object.keys(n).map(o=>`"${o}"`).join(", ")}. Check "meta" for more details.`,meta:n})),{schema:t,warnings:i}}function xr(e,{fields:r,path:t}){if(!e)return null;let n={};return e.required?.forEach(i=>{r.includes(i)||(n[i]={path:t})}),Object.entries(e.properties||[]).forEach(([i])=>{r.includes(i)||(n[i]={path:t})}),n}function zh(e,r){let t=JSON.parse(JSON.stringify(e)),n=fa(t,r.fields),i=la(t,r.allFields),o=ca(t,r.create),s=Hh(t,r.pick),a=s.schema,f=Uh(a,r.orderRoot);r.muteLogging||console.warn("json-schema-form modify(): We highly recommend you to handle/report the returned `warnings` as they highlight possible bugs in your modifications. To mute this log, pass `muteLogging: true` to the config.");let l=[n.warnings,i.warnings,o.warnings,s.warnings,f.warnings].flat().filter(Boolean);return{schema:a,warnings:l}}var Sr={type:"columns",columns:1,gap:"16px"};function pa(e){if(!e||typeof e!="object"||e.type&&e.type!=="columns"||e.columns!==void 0&&(!Number.isInteger(e.columns)||e.columns<1)||e.gap&&typeof e.gap!="string")return!1;if(e.responsive){let t=["sm","md","lg","xl"];for(let n of t){let i=e.responsive[n];if(i!==void 0&&(!Number.isInteger(i)||i<1))return!1}}let r=["colSpan","colStart","colEnd"];for(let t of r){let n=e[t];if(n!==void 0)if(typeof n=="number"){if(!Number.isInteger(n)||n<1)return!1}else if(typeof n=="object"&&n!==null){let i=["sm","md","lg","xl"];for(let o of i){let s=n[o];if(s!==void 0&&(!Number.isInteger(s)||s<1))return!1}}else return!1}return!0}function da(e){return!e||!pa(e)?Sr:{...Sr,...e}}function Gh(e){return e.layout||null}function ma(e){return e._rootLayout||null}function kh(e){return e.length?ma(e[0]):null}function Wh(e){let r=da(e),t={};if(r.type==="columns"&&(t.display="grid",t.gridTemplateColumns=`repeat(${r.columns}, 1fr)`,r.gap&&(t.gap=r.gap)),e.colSpan)if(typeof e.colSpan=="number")t.gridColumn=`span ${e.colSpan}`;else{let o=Object.values(e.colSpan).filter(s=>typeof s=="number");if(o.length>0){let s=Math.max(...o);t.gridColumn=`span ${s}`}}let n=typeof e.colStart=="number"?e.colStart:void 0,i=typeof e.colEnd=="number"?e.colEnd:void 0;return n&&i?t.gridColumn=`${n} / ${i}`:n?t.gridColumnStart=`${n}`:i&&(t.gridColumnEnd=`${i}`),t}function Kh(e,r={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}){if(!e.responsive)return"";let t=[];return Object.entries(e.responsive).forEach(([n,i])=>{if(i&&r[n]){let o=r[n];t.push(`@media (min-width: ${o}) { grid-template-columns: repeat(${i}, 1fr); }`)}}),t.join(`
`)}function Yh(e,r={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}){let t=[];return e.colSpan&&typeof e.colSpan=="object"&&Object.entries(e.colSpan).forEach(([n,i])=>{if(i&&r[n]){let o=r[n];t.push(`@media (min-width: ${o}) { grid-column: span ${i}; }`)}}),e.colStart&&typeof e.colStart=="object"&&Object.entries(e.colStart).forEach(([n,i])=>{if(i&&r[n]){let o=r[n];t.push(`@media (min-width: ${o}) { grid-column-start: ${i}; }`)}}),e.colEnd&&typeof e.colEnd=="object"&&Object.entries(e.colEnd).forEach(([n,i])=>{if(i&&r[n]){let o=r[n];t.push(`@media (min-width: ${o}) { grid-column-end: ${i}; }`)}}),t.join(`
`)}function Xh(e){if(typeof e=="number")return e;if(typeof e=="object"&&e!==null){let r=Object.values(e).filter(t=>typeof t=="number");return r.length>0?Math.max(...r):void 0}}export{Sr as DEFAULT_LAYOUT_CONFIG,hu as createHeadlessForm,Wh as generateCSSGridProperties,Kh as generateResponsiveCSS,Yh as generateResponsiveFieldCSS,Xh as getBaseFieldValue,Gh as getFieldLayoutInfo,kh as getFormContainerLayout,ma as getRootLayoutInfo,pa as isValidLayoutConfig,zh as modify,da as normalizeLayoutConfig};
//# sourceMappingURL=index.mjs.map